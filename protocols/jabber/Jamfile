SubDir TOP protocols jabber ;

SubDirSysHdrs [ FDirName $(TOP) ] ;
SubDirSysHdrs [ FDirName $(TOP) application ] ;
SubDirSysHdrs [ FDirName $(TOP) libs ] ;
SubDirSysHdrs [ FDirName $(OPENSSL_INCLUDE_DIR) ] ;
SubDirSysHdrs [ FDirName $(CAYA_INCLUDE_DIR) ] ;

AddOn jabber :
	main.cpp
	Jabber.cpp
	: be libgloox.a network ssl crypto z $(TARGET_LIBSTDC++)
	: jabber.rdef settings_template.rdef
;

Depends jabber : libgloox.a ;

LINKFLAGS on jabber += -L$(OPENSSL_LIBRARY_DIR) ;

InstallBin $(CAYA_DIRECTORY)/protocols : jabber ;
